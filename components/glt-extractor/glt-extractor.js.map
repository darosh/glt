{"version":3,"file":"glt-extractor.js","sources":["../glt/utils/isObject.js","../glt/utils/each.js","../glt/features/blend.js","../glt/features/names.js","../glt/features/transform.js","../glt/features/modify.js","../glt/features/generator.js","../glt/features/colorize.js","../glt/features/desaturate.js","../glt/features/index.js","index.js"],"sourcesContent":["export function isObject(obj) {\n    return (obj instanceof Object) && !(obj instanceof Array);\n}\n","import {isObject} from './isObject';\n\nexport function each(obj, fnc) {\n    if (isObject(obj)) {\n        Object.keys(obj).forEach((key) => fnc(key, obj[key]));\n    }\n}\n","export const blend = {\n    BlendHardMix: 'blendHardMix',\n    BlendVividLight: 'blendVividLight',\n    BlendLinearLight: 'blendLinearLight',\n    BlendPinLight: 'blendPinLight',\n    BlendGlow: 'blendGlow',\n    BlendHardLight: 'blendHardLight',\n    BlendPhoenix: 'blendPhoenix',\n    BlendOverlay: 'blendOverlay',\n    BlendNormal: 'blendNormal',\n    BlendNegation: 'blendNegation',\n    BlendMultiply: 'blendMultiply',\n    BlendReflect: 'blendReflect',\n    BlendAverage: 'blendAverage',\n    BlendLinearBurn: 'blendLinearBurn',\n    BlendLighten: 'blendLighten',\n    BlendScreen: 'blendScreen',\n    BlendSoftLight: 'blendSoftLight',\n    BlendSubtract: 'blendSubtract',\n    BlendExclusion: 'blendExclusion',\n    BlendDifference: 'blendDifference',\n    BlendDarken: 'blendDarken',\n    BlendColorDodge: 'blendColorDodge',\n    BlendColorBurn: 'blendColorBurn',\n    BlendAdd: 'blendAdd',\n    BlendLinearDodge: 'blendLinearDodge'\n};\n\n// Object.keys(blend).sort().forEach((k, i) => blend[i] = k);\n","export const POSITION = 'POSITION';\nexport const VALUE = 'VALUE';\nexport const COLOR = 'COLOR';\n\nexport const POS = 'pos';\n\nexport const PARAM = {\n    type: 0,\n    name: 1,\n    value: 2,\n    range: 3,\n    placeholder: 4,\n    input: 5\n};\n\nexport const FLOAT = 'FLOAT';\nexport const VEC2 = 'VEC2';\nexport const VEC3 = 'VEC3';\n","import {VALUE} from './names';\n\nexport let Distort = {\n    params: [['float', 'weight', 1, [-8, 8]], ['float', VALUE, 1, [-1, 1]]]\n};\n\nexport let Warp = {\n    params: [['float', 'wx', 1, [-8, 8]], ['float', 'wy', 1, [-8, 8]], ['float', VALUE, 1, [-1, 1]], ['float', VALUE, 1, [-1, 1]]]\n};\n\nexport const Rotate = {\n    params: [['float', 'angle', 0, [0, 360]]]\n};\n\nexport const Scale = {\n    params: [['vec2', 'scale', [1, 1], [-16, 16]]]\n};\n\nexport const Translate = {\n    params: [['vec2', 'offset', [0, 0], [-128, 128]]]\n};\n\nexport const Tile = {\n    params: [['vec2', 'size', [0, 0], [2, 16]], ['float', 'mirrorX', 0, [0, 1]], ['float', 'mirrorY', 0, [0, 1]]]\n};\n\nexport const Pixelate = {\n    params: [['float', 'steps', 8, [2, 128]]]\n};\n\nexport const Twirl = {\n    params: [['float', 'weight', 8, [-16, 16]], ['float', 'size', 2, [0, 16]], ['vec2', 'offset', [0, 0], [0, 32]]]\n};\n","export const Normalize = {};\nexport const Denormalize = {};\nexport const Invert = {};\nexport const Abs = {};\nexport const Cos = {};\nexport const Sin = {};\n\nexport const Add = {\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Min = {\n    glsl: 'min',\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Max = {\n    glsl: 'max',\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Multiply = {\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const SmoothStep = {\n    params: [['float', 'edge0', 0, [-2,2]], ['float', 'edge1', 1, [-2,2]]]\n};\n\nexport const Posterize = {\n    params: [['float', 'steps', 8, [2,32]], ['float', 'gamma', 0.6,[0,2]]]\n};\n\nexport const Bias = {\n    params: [['float', 'bias', 0.25, [0,1]]]\n};\n\nexport const Gain = {\n    params: [['float', 'gain', 0.25, [0,1]]]\n};\n\nexport const Clamp = {\n    params: [['float', 'from', 0, [-1,1]], ['float', 'to', 1, [-1,1]]]\n};\n","import {POS, VALUE} from './names';\n\nexport const X = {};\nexport const Y = {};\nexport const Length = {};\nexport const SinX = {\n    scale: 16\n};\nexport const SinY = {\n    scale: 16\n};\nexport const SinXY = {\n    scale: 16\n};\n\nexport const Xor = {\n    scale: 256\n};\n\n// export const Color = {\n//     glsl: 'vec3',\n//     color: true,\n//     position: false,\n//     params: ['vec3', 'color', [1, 1, 1]]\n// };\n\nexport const Value = {\n    glsl: 'float',\n    position: false,\n    params: [['float', 'value', 1, [-1, 1]]]\n};\n\nexport const SimplexNoise = {\n    glsl: 'snoise',\n    normalized: false\n};\n\nexport const Checker = {\n    glsl: 'checker',\n    params: [['float', 'repeats', 2, [1, 128]]]\n};\n\nexport const PerlinNoise = {\n    glsl: 'cnoise',\n    normalized: false,\n    scale: 4\n};\n\nexport const PeriodicNoise = {\n    glsl: 'pnoise',\n    params: [['vec2', 'size', [16, 16], [1, 128]]],\n    normalized: false,\n    scale: 4\n};\n\nexport const WorleyF1 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyF2 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyF1F2 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1],\n        [0, 1]\n    ]\n};\n\nexport const WorleyF2F1 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyCrackle = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]], ['float', 'multiply', 8, [1, 32]], ['float', 'divide', 2, [1, 32]], ['float', 'offset', 0.5, [0, 8]]],\n    scale: 2,\n    examples: [\n        [0.5, 0, 8, 2, 0.5],\n        [0, 0, 8, 2, 0.5],\n        [1, 1, 8, 2, 0.5],\n        [1, 0, 32, 2, 0.5],\n        [1, 0, 32, 1, 2],\n        [1, 0, 32, 1, 4],\n        [1, 1, 32, 1, 4],\n        [0.25, 1, 32, 1, 4]\n    ]\n};\n\nexport const RidgedMultiFractal = {\n    glsl: 'ridgedMultiFractal',\n    params: [['float', 'H', 0.25, [0, 8]], ['float', 'lacunarity', 2, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]], ['float', 'offset', .9, [-2, 2]], ['float', 'gain', 1.5, [-8, 8]]],\n    scale: 1,\n    examples: [\n        [0.25, 1, 1, 1, 1.01, 1],\n        [0.25, 3, 1, 9, 1.01, 1]\n    ]\n};\n\nexport const HybridMultiFractal = {\n    glsl: 'hybridMultiFractal',\n    params: [['float', 'H', 0.25, [0, 8]], ['float', 'lacunarity', 3, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]], ['float', 'offset', .05, [-2, 2]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [0.1, 1.5, 3, 6, 0]\n    ]\n};\n\nexport const HeteroTerrain = {\n    glsl: 'heteroTerrainA',\n    params: [['float', 'H', 0.5, [0.01, 3]], ['float', 'lacunarity', 2, [1, 3]], ['float', 'frequency', 2, [1, 8]], ['float', 'octaves', 6, [1, 8]], ['float', 'offset', .05, [-1, 1]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [2, 1.5, 3, 2, 0]\n    ]\n};\n\nexport const MultiFractal = {\n    glsl: 'multifractalA',\n    params: [\n        ['float', 'H', 0.5, [0.01, 2]],\n        ['float', 'lacunarity', 2, [1, 2]],\n        ['float', 'frequency', 2, [1, 8]],\n        ['float', 'octaves', 6, [1, 8]],\n        ['float', 'offset', .8, [-1, 1]],\n        ['float', 'noise', null, null, 'snoise', [['vec2', POS]]]\n    ],\n    scale: 1,\n    examples: [\n        [1.5, 1.5, 4, 6, 0.85]\n    ]\n};\n\nexport const FBm = {\n    glsl: 'fBmA',\n    params: [['float', 'H', 0.5, [0, 8]], ['float', 'lacunarity', 2, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [0.85, 2.5, 4, 6]\n    ]\n};\n\nexport let RGB = {\n    glsl: 'vec3',\n    color: true,\n    position: false,\n    params: [['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]]]\n};\n\nexport let HSV = {\n    glsl: 'HSV',\n    color: true,\n    position: false,\n    params: [['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]]],\n};\n","// http://iquilezles.org/www/articles/palettes/palettes.htm\nexport const CosPalette = {\n    glsl: 'cosPalette',\n    params: [\n        ['vec3', 'a', [0.5, 0.5, 0.5], [0, 1]],\n        ['vec3', 'b', [0.5, 0.5, 0.5], [0, 1]],\n        ['vec3', 'c', [1.0, 1.0, 1.0], [0, 1]],\n        ['vec3', 'd', [0.0, 0.33, 0.67], [0, 1]]\n    ],\n    examples: [\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.0, 0.33, 0.67]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.0, 0.10, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.3, 0.20, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 0.5], [0.8, 0.90, 0.30]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 0.7, 0.4], [0.0, 0.15, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [2.0, 1.0, 0.0], [0.5, 0.20, 0.25]],\n        [[0.8, 0.5, 0.4], [0.2, 0.4, 0.2], [2.0, 1.0, 1.0], [0.0, 0.25, 0.25]]\n    ]\n};\n\nexport const Tint = {\n    color: true,\n    params: [['vec3', 'color', [0.5, 0.5, 0.5], [0, 1]]]\n};\n","export const Grayscale = {};\n","import {each} from '../utils/each';\nimport {blend} from './blend';\nimport * as transform from './transform';\nimport * as modify from './modify';\nimport * as generator from './generator';\nimport * as colorize from './colorize';\nimport * as desaturate from './desaturate';\n// import * as _list from './list';\nimport {COLOR, VALUE, POSITION} from './names';\n\nexport const list = {};\n\nexport const features = {\n    blend: blend,\n    transform: transform,\n    modify: modify,\n    generator: generator,\n    colorize: colorize,\n    desaturate: desaturate\n};\n\nexport const types = {\n    blend: 'blend',\n    transform: 'transform',\n    modify: 'modify',\n    generator: 'generator',\n    colorize: 'colorize',\n    desaturate: 'desaturate'\n};\n\nfunction expand() {\n    each(features, (k) => {\n        each(features[k], (m) => {\n            // console.log(features[k][m]);\n            let f = features[k][m];\n\n            if (typeof f === 'string') {\n                features[k][m] = f = {\n                    glsl: f\n                };\n            }\n\n            expandFeature(f, k, m);\n        });\n    });\n}\n\nexport const glsls = [];\n\nfunction expandFeature(f, k, m) {\n    f.type = k;\n    f.name = m;\n    f.glsl = f.glsl || m;\n    f.params = f.params || [];\n    f.variants = variants[k](f);\n\n    glsls.push(f.glsl);\n}\n\nconst variants = {\n    blend: () => [\n        {\n            output: 'float',\n            input: [['float', VALUE, 0.5, [0, 1]], ['float', VALUE, 0.5, [0, 1]]]\n        },\n        {\n            output: 'float',\n            input: [['float', VALUE, 0.5, [0, 1]], ['float', VALUE, 0.5, [0, 1]], ['float', 'opacity', 0.5, [0, 1]]]\n        },\n        {\n            output: 'vec3',\n            input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]]]\n        },\n        {\n            output: 'vec3',\n            input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['float', 'opacity', 0.5, [0, 1]]]\n        }\n    ],\n    transform: (feature) => [{\n        output: 'vec2',\n        input: [['vec2', POSITION], ...feature.params]\n    }],\n    modify: (feature) => [{\n        output: 'float',\n        input: [['float', VALUE, 0.5, [-1, 1]], ...feature.params]\n    }, {\n        output: 'vec3',\n        input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n    }],\n    generator: (feature) => [{\n        output: feature.color ? 'vec3' : 'float',\n        input: feature.position === false ? feature.params : [['vec2', POSITION], ...feature.params]\n    }],\n    colorize: (feature) => [\n        {\n            output: 'vec3',\n            input: [['float', VALUE, 0.5, [0, 1]], ...feature.params]\n        },\n        ...(feature.color\n            ? [{\n                output: 'vec3',\n                input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n            }]\n            : [])\n    ],\n    desaturate: (feature) => [{\n        output: 'float',\n        input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n    }]\n};\n\nfunction getAll() {\n    const all = [];\n    each(features,\n        (k) => each(features[k],\n            (m) => {\n                list[m] = features[k][m];\n                features[k][m].variants.forEach((v) => {\n                    const f = features[k][m];\n                    v.type = f.type;\n                    v.name = f.name;\n                    v.glsl = f.glsl;\n                    v.variable = hasVariableInput(v);\n                    v.position = hasPositionInput(v);\n                    all.push(v);\n                })\n            }\n        )\n    );\n    return all;\n}\n\nexport function getSignature(v, named = true) {\n    return v.output + ' ' + v.glsl + '(' + v.input.map((p) => p[0] + (named ? ' ' + p[1] : '')).join(', ') + ')';\n}\n\nexpand();\nexport const all = getAll();\n\nexport function getProtos(name) {\n    return all.filter((d) => d.name === name);\n}\n\nexport function hasVariableInput(v) {\n    const arr = (v.input || []);\n\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i][1] === VALUE || arr[i][1] === COLOR) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function hasPositionInput(v) {\n    const arr = (v.input || []);\n\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i][1] === POSITION) {\n            return true;\n        }\n    }\n\n    return false;\n}\n","import gltg from '../glt/glsl/glsl.min.glsl';\nimport {glsls} from '../glt/features/index';\n\nexport const GLSL = gltg;\n\nexport function getFragments() {\n    const lines = gltg.split('\\n');\n\n    const ids = [];\n    let match = null;\n\n    lines.forEach((line, i) => {\n        if (line[0] === '}') {\n            let p = ids[ids.length - 1];\n            p.last = i;\n            p.lines = lines.slice(p.first, p.last + 1);\n        } else if (line[0] === ' ' || line[0] === '#') {\n        } else if (match = /^[^ ]+ ([^(]+)/.exec(line)) {\n            ids.push({\n                name: match[1],\n                first: i,\n                main: glsls.indexOf(match[1]) >= 0\n            });\n        }\n    });\n\n    const names = {};\n    ids.forEach((ids) => names[ids.name] = true);\n    ids.forEach((id) => id.deps = findCalls(id.lines, id.name, names));\n\n    let dupl = null;\n\n    while (dupl = findDuplicate(ids)) {\n        removeDuplicate(dupl, ids);\n    }\n\n    const ret = {};\n\n    ids.forEach((id) => {\n        ret[id.name] = ret[id.name] || {lines: []};\n        ret[id.name].lines = [...ret[id.name].lines, ...id.lines];\n\n        if (id.deps.length) {\n            ret[id.name].deps = ret[id.name].deps || [];\n            id.deps.forEach((d) => {\n                if (ret[id.name].deps.indexOf(d) === -1) {\n                    ret[id.name].deps.push(d);\n                }\n            });\n        }\n    });\n\n    return ret;\n}\n\nfunction removeDuplicate(dupls, ids) {\n    if (dupls[0].main) {\n        dupls.reverse();\n    }\n\n    let keep = dupls[1];\n    let remove = dupls[0];\n\n    ids.splice(ids.indexOf(remove), 1);\n\n    ids.forEach((id) => {\n        let ind;\n\n        if ((ind = id.deps.indexOf(remove.name)) >= 0) {\n            id.deps[ind] = keep.name;\n\n            id.lines.forEach((line, i) => {\n                id.lines[i] = line.replace(new RegExp(remove.name + '\\\\(', 'g'), keep.name + '(');\n            });\n        }\n    });\n}\n\nfunction findCalls(lines, name, names) {\n    const rx = /([a-z0-9_]+)\\(/gi;\n    let matches;\n    let results = {};\n\n    while (matches = rx.exec(lines.join('\\n'))) {\n        if ((matches[1] !== name) && names[matches[1]]) {\n            results[matches[1]] = true;\n        }\n    }\n\n    return Object.keys(results);\n}\n\nfunction findDuplicate(ids) {\n    ids.forEach((id) => {\n        id.simple = simpleFunction(id.lines);\n    });\n\n    let pair = null;\n\n    ids.forEach((id1, i) => {\n        if (pair !== null) {\n            return;\n        }\n\n        ids.forEach((id2, j) => {\n            if (i === j || pair !== null) {\n                return;\n            }\n\n            if (id1.simple === id2.simple) {\n                if (!(id1.main && id2.main)) {\n                    pair = [id1, id2];\n                }\n            }\n        });\n    });\n\n    ids.forEach((id) => {\n        delete id.simple;\n    });\n\n    return pair;\n}\n\nfunction simpleFunction(lines) {\n    let first = lines[0].replace(/([a-z0-9]+) [^(]+/i, '$1 function');\n    return [first, ...lines.slice(1)].join('\\n');\n}\n\nif(typeof exports === 'object' && typeof module !== 'undefined') {\n    console.log(JSON.stringify(getFragments(), null, 2));\n}\n"],"names":["isObject","obj","Object","Array","each","fnc","keys","forEach","key","blend","POSITION","VALUE","COLOR","POS","Distort","Warp","Rotate","Scale","Translate","Tile","Pixelate","Twirl","Normalize","Denormalize","Invert","Abs","Cos","Sin","Add","Min","Max","Multiply","SmoothStep","Posterize","Bias","Gain","Clamp","X","Y","Length","SinX","SinY","SinXY","Xor","Value","SimplexNoise","Checker","PerlinNoise","PeriodicNoise","WorleyF1","WorleyF2","WorleyF1F2","WorleyF2F1","WorleyCrackle","RidgedMultiFractal","HybridMultiFractal","HeteroTerrain","MultiFractal","FBm","RGB","HSV","CosPalette","Tint","Grayscale","list","features","transform","modify","generator","colorize","desaturate","expand","k","m","f","glsls","expandFeature","type","name","glsl","params","variants","push","feature","color","position","getAll","all","v","variable","hasVariableInput","hasPositionInput","arr","input","i","length","GLSL","gltg","getFragments","lines","split","ids","match","line","p","last","slice","first","exec","indexOf","names","id","deps","findCalls","dupl","findDuplicate","ret","d","removeDuplicate","dupls","main","reverse","keep","remove","splice","ind","replace","RegExp","rx","matches","results","join","simple","simpleFunction","pair","id1","id2","j","exports","module","log","JSON","stringify"],"mappings":"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"}