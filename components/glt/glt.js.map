{"version":3,"file":"glt.js","sources":["utils/isObject.js","utils/each.js","features/index.js","data/shader/getUniforms.js","utils/isArray.js","data/shader/getShaderThree.js","utils/deep.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/d3-array/src/ticks.js","renderers/getHistogram.js","../../node_modules/d3-collection/src/map.js","../../node_modules/d3-collection/src/set.js","../../node_modules/d3-scale/src/ordinal.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-color/src/lab.js","../../node_modules/d3-color/src/cubehelix.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/cubehelix.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-scale/src/linear.js","../../node_modules/d3-time/src/interval.js","../../node_modules/d3-time/src/week.js","../../node_modules/d3-time/src/utcWeek.js","../../node_modules/d3-time-format/src/locale.js","../../node_modules/d3-time-format/src/defaultLocale.js","../../node_modules/d3-time-format/src/isoFormat.js","../../node_modules/d3-time-format/src/isoParse.js","../../node_modules/d3-path/src/path.js","../../node_modules/d3-shape/src/curve/linear.js","../../node_modules/d3-shape/src/point.js","../../node_modules/d3-shape/src/curve/monotone.js","../../node_modules/d3-shape/src/curve/step.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/index.js","renderers/viewHistogram.js","data/tree/treeToFlat.js","data/tree/treeToSyntax.js","utils/is.js","data/syntax/syntaxToShader.js","data/syntax/expandPlaceholders.js","data/shader/getLib.js","data/syntax/detectRequired.js","data/syntax/getFunction.js","data/syntax/functionsToLib.js","data/dataFormat.js","utils/isString.js","utils/isNumber.js","data/graph/graphToTree.js","data/graph/addIds.js","data/syntax/syntaxToPartialShaders.js","data/compile.js","data/graph/valueToGraph.js","data/step.js","data/shader/getDefines.js","data/shader/formatShader.js","data/shader/getShaderGlslSandbox.js","data/shader/getShaderShadertoy.js","generators/randomInt.js","generators/rand.js","generators/randomParams.js","generators/generatorRandomPalette.js","generators/generatorRandomTree.js","generators/generatorGenerators.js","utils/toJson.js","utils/select.js","features/blend.js","features/names.js","features/transform.js","features/modify.js","features/generator.js","features/colorize.js","features/desaturate.js","renderers/Renderer.js","../../node_modules/d3-array/src/array.js","../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/constant.js","../../node_modules/d3-array/src/extent.js","../../node_modules/d3-array/src/range.js","../../node_modules/d3-array/src/threshold/sturges.js","renderers/histogram.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-scale/src/array.js","../../node_modules/d3-color/src/math.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-scale/src/constant.js","../../node_modules/d3-scale/src/number.js","../../node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-format/src/exponent.js","../../node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-format/src/formatDefault.js","../../node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-format/src/identity.js","../../node_modules/d3-format/src/locale.js","../../node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-time/src/millisecond.js","../../node_modules/d3-time/src/duration.js","../../node_modules/d3-time/src/day.js","../../node_modules/d3-time/src/second.js","../../node_modules/d3-time/src/minute.js","../../node_modules/d3-time/src/hour.js","../../node_modules/d3-time/src/year.js","../../node_modules/d3-time/src/month.js","../../node_modules/d3-time/src/utcMinute.js","../../node_modules/d3-time/src/utcDay.js","../../node_modules/d3-time/src/utcHour.js","../../node_modules/d3-time/src/utcYear.js","../../node_modules/d3-time/src/utcMonth.js","../../node_modules/d3-scale/src/colors.js","../../node_modules/d3-scale/src/category10.js","../../node_modules/d3-scale/src/category20b.js","../../node_modules/d3-scale/src/category20c.js","../../node_modules/d3-scale/src/category20.js","../../node_modules/d3-scale/src/cubehelix.js","../../node_modules/d3-scale/src/rainbow.js","../../node_modules/d3-shape/src/constant.js","../../node_modules/d3-shape/src/line.js","../../node_modules/d3-shape/src/area.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/select.js","data/variableType.js","../../node_modules/d3-random/src/uniform.js","../../node_modules/d3-random/src/normal.js"],"sourcesContent":["export function isObject(obj) {\n    return (obj instanceof Object) && !(obj instanceof Array);\n}\n","import {isObject} from './isObject';\n\nexport function each(obj, fnc) {\n    if (isObject(obj)) {\n        Object.keys(obj).forEach((key) => fnc(key, obj[key]));\n    }\n}\n","import {each} from '../utils/each';\nimport {blend} from './blend';\nimport * as transform from './transform';\nimport * as modify from './modify';\nimport * as generator from './generator';\nimport * as colorize from './colorize';\nimport * as desaturate from './desaturate';\n// import * as _list from './list';\nimport {COLOR, VALUE, POSITION} from './names';\n\nexport const list = {};\n\nexport const features = {\n    blend: blend,\n    transform: transform,\n    modify: modify,\n    generator: generator,\n    colorize: colorize,\n    desaturate: desaturate\n};\n\nexport const types = {\n    blend: 'blend',\n    transform: 'transform',\n    modify: 'modify',\n    generator: 'generator',\n    colorize: 'colorize',\n    desaturate: 'desaturate'\n};\n\nfunction expand() {\n    each(features, (k) => {\n        each(features[k], (m) => {\n            // console.log(features[k][m]);\n            let f = features[k][m];\n\n            if (typeof f === 'string') {\n                features[k][m] = f = {\n                    glsl: f\n                };\n            }\n\n            expandFeature(f, k, m);\n        });\n    });\n}\n\nexport const glsls = [];\n\nfunction expandFeature(f, k, m) {\n    f.type = k;\n    f.name = m;\n    f.glsl = f.glsl || m;\n    f.params = f.params || [];\n    f.variants = variants[k](f);\n\n    glsls.push(f.glsl);\n}\n\nconst variants = {\n    blend: () => [\n        {\n            output: 'float',\n            input: [['float', VALUE, 0.5, [0, 1]], ['float', VALUE, 0.5, [0, 1]]]\n        },\n        {\n            output: 'float',\n            input: [['float', VALUE, 0.5, [0, 1]], ['float', VALUE, 0.5, [0, 1]], ['float', 'opacity', 0.5, [0, 1]]]\n        },\n        {\n            output: 'vec3',\n            input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]]]\n        },\n        {\n            output: 'vec3',\n            input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ['float', 'opacity', 0.5, [0, 1]]]\n        }\n    ],\n    transform: (feature) => [{\n        output: 'vec2',\n        input: [['vec2', POSITION], ...feature.params]\n    }],\n    modify: (feature) => [{\n        output: 'float',\n        input: [['float', VALUE, 0.5, [-1, 1]], ...feature.params]\n    }, {\n        output: 'vec3',\n        input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n    }],\n    generator: (feature) => [{\n        output: feature.color ? 'vec3' : 'float',\n        input: feature.position === false ? feature.params : [['vec2', POSITION], ...feature.params]\n    }],\n    colorize: (feature) => [\n        {\n            output: 'vec3',\n            input: [['float', VALUE, 0.5, [0, 1]], ...feature.params]\n        },\n        ...(feature.color\n            ? [{\n                output: 'vec3',\n                input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n            }]\n            : [])\n    ],\n    desaturate: (feature) => [{\n        output: 'float',\n        input: [['vec3', COLOR, [0.5, 0.5, 0.5], [0, 1]], ...feature.params]\n    }]\n};\n\nfunction getAll() {\n    const all = [];\n    each(features,\n        (k) => each(features[k],\n            (m) => {\n                list[m] = features[k][m];\n                features[k][m].variants.forEach((v) => {\n                    const f = features[k][m];\n                    v.type = f.type;\n                    v.name = f.name;\n                    v.glsl = f.glsl;\n                    v.variable = hasVariableInput(v);\n                    v.position = hasPositionInput(v);\n                    all.push(v);\n                })\n            }\n        )\n    );\n    return all;\n}\n\nexport function getSignature(v, named = true) {\n    return v.output + ' ' + v.glsl + '(' + v.input.map((p) => p[0] + (named ? ' ' + p[1] : '')).join(', ') + ')';\n}\n\nexpand();\nexport const all = getAll();\n\nexport function getProtos(name) {\n    return all.filter((d) => d.name === name);\n}\n\nexport function hasVariableInput(v) {\n    const arr = (v.input || []);\n\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i][1] === VALUE || arr[i][1] === COLOR) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function hasPositionInput(v) {\n    const arr = (v.input || []);\n\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i][1] === POSITION) {\n            return true;\n        }\n    }\n\n    return false;\n}\n","import {each} from '../../utils/each';\n\nexport function getUniforms(uniforms) {\n    const lines = [];\n\n    each(uniforms, (key) => {\n        lines.push('uniform' + ' ' + getType(uniforms[key]) + ' ' + key + ';')\n    });\n\n    return lines.join('\\n');\n}\n\nfunction getType(u) {\n    if (u.value.length) {\n        return 'vec' + u.value.length;\n    } else {\n        return 'float';\n    }\n}\n","export function isArray(obj) {\n    return Array.isArray(obj);\n}\n","import {POS, COORD} from '../../features/names';\nimport {isArray} from '../../utils/isArray';\n\nexport function getShaderThree(shader, lib, uniforms, flipY) {\n    let shaderLines;\n\n    if (isArray(shader)) {\n        const L = shader.length;\n        shaderLines = [\n            flipY\n                ? ' vec2 ' + POS + ' = vec2(' + COORD + '.x, -' + COORD + '.y);'\n                : ' vec2 ' + POS + ' = vec2(' + COORD + ');',\n            ' int part = int(floor(((' + POS + '.y+1.)/2.)*' + L + '.));',\n            ' ' + POS + '.y = mod((' + POS + '.y+1.)*' + L + '.,2.)-1.;',\n            ' vec3 color;'\n        ];\n        shader.forEach((s, i) => {\n            shaderLines.push((i ? ' else' : '') + ' if(part == ' + i + ') { color = ' + s + '; }');\n        });\n    }\n\n    return {\n        vertexShader: [\n            'varying vec2 ' + COORD + ';',\n            '',\n            'void main() {',\n            ' ' + COORD + ' = uv * 2. - 1.;',\n            ' gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);',\n            '}'\n        ].join('\\n'),\n        fragmentShader: [\n            'uniform vec3 resolution;',\n            uniforms ? uniforms : null,\n            uniforms ? '' : null,\n            lib,\n            '',\n            'varying vec2 ' + COORD + ';',\n            '',\n            'void main() {',\n            ...(shaderLines\n                ? shaderLines\n                : [\n                    ' vec2 ' + POS + ' = vec2(' + COORD + '.x, ' + COORD + '.y * resolution.y /resolution.x);',\n                    ' vec3 color = ' + shader + ';'\n                ]),\n            ' gl_FragColor = vec4(color, 1.0);',\n            '}'\n        ].filter((l) => l !== null).join('\\n')\n    }\n}\n","export function deep(obj) {\n    // return JSON.parse(JSON.stringify(obj));\n\n    if (obj === null || typeof obj !== 'object') {\n        return obj;\n    }\n\n    const temp = obj.constructor();\n\n    for (let key in obj) {\n        temp[key] = deep(obj[key]);\n    }\n\n    return temp;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import range from \"./range\";\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var step = tickStep(start, stop, count);\n  return range(\n    Math.ceil(start / step) * step,\n    Math.floor(stop / step) * step + step / 2, // inclusive\n    step\n  );\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import {default as histogram} from './histogram';\nimport {default as range} from 'd3-array/src/range';\n\nexport function getHistogram(array, bins = 32, float = false, from = 0, _to = 0) {\n    const ret = [];\n    const thresholds = float ? [-Infinity, ...range(-1, 1, 2 / bins), 1, +Infinity] : [...range(0, 255, 256 / bins), 255];\n    const to = _to ? _to : array.length;\n\n    for (let i = 0; i < 3; i++) {\n        let channel = array.filter((v, j) => (j % 4 === i) && (j >= from) && (j < to));\n        let h = histogram().thresholds(thresholds)(channel);\n        ret.push(h);\n    }\n\n    ret.areas = getAreas(ret);\n    ret.perms = getPerms(ret.length);\n    ret.blocks = getBlocks(ret.areas, ret.perms);\n    ret.min = Math.min.apply(null, ret.map(d => d.min));\n    ret.max = Math.max.apply(null, ret.map(d => d.max));\n    ret.samples = (to - from) / 4;\n    ret.normalize = Math.max.apply(null, ret.map(d => Math.max.apply(null, d.map(e => e.length))));\n\n    return ret;\n}\n\nfunction getAreas(hg) {\n    const bins = hg[0].length;\n    const channels = hg.length;\n    const areas = [];\n\n    function sortV(a, b) {\n        return a.v - b.v;\n    }\n\n    for (let b = 0; b < bins; b++) {\n        const bn = [];\n        let c;\n\n        for (c = 0; c < channels; c++) {\n            bn.push({c: c, v: hg[c][b].length});\n        }\n\n        bn.sort(sortV);\n\n        const stops = {};\n\n        for (c = 0; c < channels; c++) {\n            stops[bn[c].v] = stops[bn[c].v] || 0;\n            stops[bn[c].v] += Math.pow(2, bn[c].c);\n        }\n\n        const as = [];\n\n        for (let k in stops) {\n            as.push({v: parseFloat(k), s: stops[k]});\n        }\n\n        as.sort(sortV);\n        areas.push(as);\n    }\n\n    return areas;\n}\n\nfunction getPerms(channels) {\n    const ps = Math.pow(2, channels);\n    const ret = [];\n\n    for (let i = 1; i < ps; i++) {\n        ret.push(i);\n    }\n\n    ret.sort(function (a, b) {\n        function ones(num) {\n            let o = 0;\n            while (num) {\n                /*jslint bitwise: true */\n                o += num & 1;\n                num >>= 1;\n                /*jslint bitwise: false */\n            }\n            return o;\n        }\n\n        return ones(b) - ones(a);\n    });\n\n    return ret;\n}\n\nfunction getBlocks(areas, perms) {\n    const blocks = [];\n    let a, p;\n\n    for (p = 0; p < perms.length; p++) {\n        const block = [];\n        blocks.push(block);\n\n        for (a = 0; a < areas.length; a++) {\n            block.push(0);\n        }\n    }\n\n    for (a = 0; a < areas.length; a++) {\n        let prevS = 0;\n        let z = [];\n\n        for (let k in areas[a]) {\n            z.push(areas[a][k]);\n        }\n\n        z.reverse();\n\n        for (let j = 0; j < z.length; j++) {\n            let o1 = z[j];\n            let o2;\n\n            if ((j + 1) < z.length) {\n                o2 = z[j + 1];\n            } else {\n                o2 = {v: 0, s: 7};\n            }\n\n            let v = o1.v - o2.v;\n            prevS += o1.s;\n            let b = prevS - 1;\n            blocks[b][a] = v;\n        }\n    }\n\n    const ret = [];\n\n    for (p = 0; p < perms.length; p++) {\n        ret.push(blocks[perms[p] - 1]);\n    }\n\n    return ret;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume itâ€™s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import {timeDay, timeSunday, timeMonday, timeYear, utcDay, utcSunday, utcMonday, utcYear} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic BÃ©zier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like â€œ__proto__â€.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that donâ€™t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {scaleLinear, scaleOrdinal} from 'd3-scale';\nimport {area, curveMonotoneX, curveStepAfter} from 'd3-shape';\nimport {select} from 'd3-selection';\nimport {format} from 'd3-format';\n\nexport function viewHistogram(svg, data, samples, ext, options = {}) {\n    svg = select(svg);\n    svg.selectAll('*').remove();\n    const range = [-1,1];\n    const mid = (range[0] + range[1]) / 2;\n    const rangeMid = [range[0], mid, range[1]];\n    const opt = {...viewHistogram.options(), ...options};\n    const f = format('+.' + opt.precision);\n    const ft = d => f(d).replace('-', '&minus;').replace('+0', '0');\n    const l = data[0].length - opt.overflow * 2;\n    const x = scaleLinear().domain([0, l - 1]).range([opt.overflowWidth, opt.width - opt.overflowWidth]);\n    const xv = scaleLinear().domain(range).range([opt.overflowWidth, opt.width - opt.overflowWidth]);\n    const y = scaleLinear().domain([0, samples]).range([opt.height - opt.margin.top, opt.margin.bottom]);\n    const z = scaleOrdinal().range(opt.colors);\n\n    const areaShape = area()\n        .curve(opt.curve ? curveMonotoneX : curveStepAfter)\n        .x(function (d, i) {\n            return x(i);\n        })\n        .y0(function (d) {\n            return y(d[0]);\n        })\n        .y1(function (d) {\n            return y(d[1]);\n        });\n\n    let prev;\n    const stacked = data.map(function (series, seriesIndex) {\n        return prev = series.map(function (value, valueIndex) {\n            const previous = seriesIndex > 0 ? prev[valueIndex][1] : 0;\n            return [previous, value + previous];\n        });\n    });\n\n    const stacked2 = stacked.map((a) => {\n        return a.splice(1, a.length - 2);\n    });\n\n    const bs = svg.selectAll('.bin').data(stacked2);\n    const bin = bs\n        .enter()\n        .append('path')\n        .attr('class', 'area')\n        .style('fill', function (d, i) {\n            return z(i);\n        })\n        .attr('d', function (d) {\n            return areaShape(d);\n        });\n\n    svg.append('line')\n        .attr('x1', Math.floor(x(0)))\n        .attr('x2', Math.floor(x(0)))\n        .attr('y1', y(0))\n        .attr('y2', y(samples))\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray', '12 4')\n        .attr('stroke', '#444');\n    svg.append('line')\n        .attr('x1', Math.ceil(x(data[0].length - 3)))\n        .attr('x2', Math.ceil(x(data[0].length - 3)))\n        .attr('y1', y(0))\n        .attr('y2', y(samples))\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray', '12 4')\n        .attr('stroke', '#444');\n    svg.append('line')\n        .attr('x1', x((data[0].length - 3) / 2))\n        .attr('x2', x((data[0].length - 3) / 2))\n        .attr('y1', y(0))\n        .attr('y2', y(samples))\n        .attr('stroke-width', 1)\n        .attr('stroke-dasharray', '4 12')\n        .attr('stroke', '#444');\n\n    svg.selectAll('.labels').data(rangeMid)\n        .enter()\n        .append('text')\n        .attr('text-anchor', 'middle')\n        .attr('dominant-baseline', 'middle')\n        .attr('font-family', opt.font)\n        .attr('x', d => xv(d))\n        .attr('y', opt.margin.top / 2)\n        .html(d => ft(d));\n\n    svg.selectAll('.extent').data([ext.min, ext.max])\n        .enter()\n        .append('text')\n        .attr('text-anchor', 'middle')\n        .attr('dominant-baseline', 'middle')\n        .attr('font-family', opt.font)\n        .attr('x', d => xv(Math.max(range[0], Math.min(range[1], d))))\n        .attr('y', opt.height - opt.margin.bottom / 2)\n        .html(d => ft(d));\n}\n\nviewHistogram.options = function () {\n    return {\n        width: 512,\n        height: 512,\n        margin: {\n            top: 32,\n            bottom: 32,\n            left: 32,\n            right: 32\n        },\n        overflowWidth: 32,\n        overflow: true,\n        curve: true,\n        labels: true,\n        precision: 2,\n        colors: ['#777', '#ff2', '#f2f', '#2ff', '#f22', '#2f2', '#22f'],\n        font: 'monospace'\n    };\n};\n","import {isObject} from '../../utils/isObject'\nimport {isArray} from '../../utils/isArray'\n\nlet flat = null;\n\nexport function treeToFlat(raw, level = 0) {\n    if (!level) {\n        flat = [];\n    }\n\n    flat.push(raw);\n\n    raw.level = level;\n    const children = [];\n    (raw.params || []).forEach((param) => {\n        if (isObject(param)) {\n            // param.parent = tree;\n            children.push(param);\n            treeToFlat(param, level + 1);\n        } else if (isArray(param)) {\n            param.forEach((p) => {\n                if (isObject(p)) {\n                    treeToFlat(p, level + 1);\n                }\n            })\n        }\n    });\n\n    // if (!children.length) {\n    //     raw.last = true;\n    // }\n\n    if (!level) {\n        const f = flat;\n        flat = null;\n        f.sort((a, b) => b.level - a.level);\n        f.forEach((d) => delete d.level);\n        return f;\n    }\n}\n","import {treeToFlat} from './treeToFlat';\nimport {getProtos} from '../../features/index';\nimport {isObject} from '../../utils/isObject';\nimport {isArray} from '../../utils/isArray';\nimport {deep} from '../../utils/deep';\n\nexport function treeToSyntax(_top) {\n    const top = {..._top};\n    const flat = treeToFlat(top.data);\n\n    flat.forEach((d) => {\n        d.params = d.params || [];\n        d.proto = deep(findProto(d));\n\n        if (d.proto) {\n            fixInputs(d);\n        }\n    });\n\n    return top;\n}\n\nfunction fixInputs(d) {\n    const inputs = getInputs(d);\n\n    inputs.forEach((input, i) => {\n        const target = d.proto.input[i][0];\n        if (input && (input !== target)) {\n            if (input === 'float' && target === 'vec3') {\n                d.params[i] = wrap(d.params[i], target);\n            }\n        }\n    });\n}\n\nfunction wrap(param, target) {\n    return {\n        params: [param],\n        proto: {\n            glsl: target,\n            input: [['vec3']]\n        }\n    };\n}\n\nfunction findProto(d) {\n    let protos = getProtos(d.name);\n\n    if (!protos.length) {\n        throw new Error('Unknown feature: ' + d.name);\n    }\n\n    if (protos.length === 1) {\n        // console.info('Using single signature: ' + d.name);\n        return protos[0]\n    }\n\n    let inputs = getInputs(d);\n    let exacts = exactSignatures(protos, inputs);\n\n    if (exacts.length === 1) {\n        // console.info('Using exact signature: ' + d.name);\n        return exacts[0];\n    } else if (exacts.length > 1) {\n        // console.info('Using first exact signature: ' + d.name);\n        return exacts[0];\n    }\n\n    let longer = longerSignatures(protos, inputs);\n\n    if (longer.length === 1) {\n        // console.info('Using longer signature: ' + d.name);\n        return longer[0];\n    } else if (longer.length > 1) {\n        // console.info('Using first longer signature: ' + d.name);\n        return longer[0];\n    }\n\n    let exactsConvertible = convertibleExactSignatures(protos, inputs);\n\n    if (exactsConvertible.length === 1) {\n        // console.info('Using exact convertible signature: ' + d.name);\n        return exactsConvertible[0];\n    } else if (exactsConvertible.length > 1) {\n        // console.info('Using first exact convertible signature: ' + d.name);\n        return exactsConvertible[0];\n    }\n\n    throw new Error('Unknown signature: ' + d.name + '(' + inputs.join(', ') + ')');\n}\n\nfunction getInputs(d) {\n    return d.params.map((p) => {\n        if (isObject(p) && p.proto) {\n            return p.proto.output;\n        } else if (isArray(p)) {\n            return 'vec' + p.length;\n        } else if (!isNaN(p) && !Number.isInteger(p)) {\n            return 'float';\n        } else if (p === true || p === false) {\n            return 'bool'\n        } else {\n            return null;\n        }\n    });\n}\n\nfunction exactSignatures(protos, inputs) {\n    return protos.filter((v) => {\n        if (v.input.length === inputs.length) {\n            for (let i = 0; i < v.input.length; i++) {\n                if (inputs[i] && (inputs[i] !== v.input[i][0])) {\n                    return false;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    });\n}\n\nfunction longerSignatures(protos, inputs) {\n    return protos.filter((v) => {\n        if (v.input.length > inputs.length) {\n            for (let i = 0; i < inputs.length; i++) {\n                if (inputs[i] && (inputs[i] !== v.input[i][0])) {\n                    return false;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    });\n}\n\nfunction convertibleExactSignatures(protos, inputs) {\n    return protos.filter((v) => {\n        if (v.input.length === inputs.length) {\n            for (let i = 0; i < v.input.length; i++) {\n                if (inputs[i] && (inputs[i] === 'float' && v.input[i][0] === 'vec3')) {\n\n                } else if (inputs[i] && (inputs[i] !== v.input[i][0])) {\n                    return false;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    });\n}\n","export function is(obj) {\n    return obj !== undefined && obj !== null;\n}\n","import {is} from '../../utils/is';\nimport {isObject} from '../../utils/isObject';\nimport {PARAM, POS} from '../../features/names';\n\nexport function syntaxToShader(tree, vec3 = true, top = true) {\n    if (top === true) {\n        top = tree;\n    }\n\n    if (vec3 && (tree.proto.output !== 'vec3')) {\n        return 'vec3(' + syntaxToShader(tree, false, top) + ')';\n    }\n\n    return tree.proto.glsl + '(' + rawParams(tree, top).join(', ') + ')'\n}\n\nfunction rawParams(tree, top) {\n    return tree.proto.input.filter((input) => !input[PARAM.placeholder]).map((input, i) => {\n        const param = tree.params[i];\n\n        if (isObject(param)) {\n            return syntaxToShader(param, false, top);\n        } else {\n            return formatParam(param, input, top, tree);\n        }\n    });\n}\n\nfunction formatParam(param, type, top, tree) {\n    if (type[0] === 'vec2' && param === POS) {\n        return param;\n    }\n\n    let p = is(param) ? param : (is(type[2]) ? type[2] : defaultType(type[0]));\n\n    if (isObject(p)) {\n        return syntaxToShader(param, false, top);\n    }\n\n    if (type[0] === 'int') {\n        return p.toString();\n    } else if (type[0] === 'bool') {\n        return p.toString();\n    } else if (type[0] === 'float') {\n        if (top.uniforms) {\n            return uniform(top, p, type, tree)\n        }\n\n        let s = p.toString();\n\n        if (s.indexOf('.') >= 0) {\n            return s;\n        } else {\n            return s + '.';\n        }\n    } else if (type[0].indexOf('vec') === 0) {\n        if (top.uniforms) {\n            return uniform(top, p, type, tree)\n        }\n\n        return type[0] + '(' + p.map((p) => formatParam(p, ['float'], top, tree)).join(', ') + ')';\n    }\n\n    return param;\n}\n\nfunction defaultType(type) {\n    if (type.indexOf('vec') === 0) {\n        const n = parseInt(type.replace('vec', ''));\n        const a = [];\n\n        for (let i = 0; i < n; i++) {\n            a.push(1);\n        }\n\n        return a;\n    } else if (type === 'bool') {\n        return true;\n    } else {\n        return 1;\n    }\n}\n\nfunction uniform(top, p, type, tree) {\n    let name = tree.name + '_' + tree.id + '_' + capitalize(type[1]);\n    // top.names = top.names || {};\n    // top.names[name] = top.names[name] || 0;\n    // top.names[name]++;\n    // const index = top.names[name];\n    // name = name + ((index > 1) ? +index : '');\n    top.uniforms[name] = {value: p, proto: type, id: tree.id, index: tree.proto.input.indexOf(type)};\n    return name;\n}\n\nfunction capitalize(s) {\n    return s[0].toUpperCase() + s.substring(1);\n}\n","import {isObject} from '../../utils/isObject';\nimport {deep} from '../../utils/deep';\nimport {PARAM} from '../../features/names';\n\nexport function expandPlaceholders(item, _top = null) {\n    const top = _top || item;\n\n    item.proto.input.forEach((input, i) => {\n        const param = item.params[i];\n\n        if (isObject(param)) {\n            expandPlaceholders(param, top);\n        }\n\n        if (input[PARAM.placeholder] && isObject(param)) {\n            expand(item, top, i);\n        }\n    });\n}\n\nfunction expand(item, top, index) {\n    const name = newFunctionName(top, item.name);\n    let exInput = deep(item.proto.input).splice(index, 1)[0];\n    let fname = newFunctionName(top, exInput[PARAM.name]);\n\n    top.functions = top.functions || {};\n    top.functions[name] = {\n        name: name,\n        proto: {\n            glsl: name,\n            use: item.proto.glsl,\n            placeholder: exInput[PARAM.placeholder],\n            target: fname\n        }\n    };\n\n    exInput = item.proto.input.splice(index, 1)[0];\n    let exParam = item.params.splice(index, 1);\n\n    top.functions[fname] = {\n        name: fname,\n        params: exParam,\n        proto: {\n            glsl: fname,\n            output: exInput[PARAM.type],\n            input: [exInput]\n        }\n    };\n\n    item.proto.glsl = name;\n}\n\nfunction newFunctionName(top, _name) {\n    top.functions = top.functions || {};\n    let name = _name;\n    //noinspection CommaExpressionJS\n    while (name += '_', top.functions[name]) {\n    }\n    return name;\n}\n","//noinspection JSUnresolvedVariable\nimport gltgs from '../../glsl/glsl.min.json';\n\nexport function getLib(functions, additional, singleLine = true) {\n    const gltg = additional ? {...gltgs, ...additional} : gltgs;\n\n    if (!functions) {\n        return getLibAll(singleLine, gltg, additional);\n    }\n\n    let deps = [...functions];\n\n    while (getDeps(deps, gltg)) {\n    }\n\n    // getDeps(deps, gltg);\n    depsWeights(deps, null, gltg);\n\n    const lines = [];\n\n    deps.forEach((d) => {\n        if (gltg[d]) {\n            lines.push(singleLine ? gltg[d].lines.join('') : gltg[d].lines.join('\\n'));\n        }\n    });\n\n    return lines.join('\\n');\n}\n\nexport function getLibAll(singleLine, gltg, additional) {\n    return getLib(Object.keys(gltg), additional, singleLine);\n}\n\nfunction getDeps(deps, gltg) {\n    let l = deps.length;\n\n    for (let i = 0; i < deps.length; i++) {\n        let f = deps[deps.length - 1 - i];\n\n        if (gltg[f] && gltg[f].deps) {\n            for (let j = 0; j < gltg[f].deps.length; j++) {\n                let d = gltg[f].deps[j];\n                let ind = deps.indexOf(d);\n\n                if (ind === -1) {\n                    deps.unshift(d);\n                    i--;\n                } else {\n                    deps.splice(ind, 1);\n                    deps.unshift(d);\n\n                    if (ind > (deps.length - 1 - i)) {\n                        i--;\n                    }\n                }\n            }\n        }\n    }\n\n    return deps.length !== l;\n}\n\nfunction depsWeights(deps, _weights, gltg) {\n    const weights = _weights || {};\n\n    deps.forEach((d) => {\n        weights[d] = weights[d] || 0;\n        weights[d]++;\n\n        if (gltg[d] && gltg[d].deps) {\n            depsWeights(gltg[d].deps, weights, gltg);\n        }\n    });\n\n    deps.sort((a, b) => {\n        return weights[b] - weights[a];\n    });\n}\n","import {isObject} from '../../utils/isObject';\nimport {each} from \"../../utils/each\";\n\nexport function detectRequired(syntax, _top) {\n    const top = _top || syntax;\n    top.required = top.required || [];\n\n    if (top.required.indexOf(syntax.proto.glsl) === -1) {\n        top.required.push(syntax.proto.glsl);\n    }\n\n    syntax.params.forEach((param) => {\n        if (isObject(param)) {\n            detectRequired(param, top);\n        }\n    });\n\n    if (syntax.functions) {\n        each(syntax.functions, (k, v) => {\n            if (!v.params) {\n                return;\n            }\n\n            v.params.forEach((param) => {\n                if (isObject(param)) {\n                    detectRequired(param, top);\n                }\n            });\n        });\n    }\n}\n","import gltg from '../../glsl/glsl.min.json';\nimport {PARAM} from '../../features/names';\nimport {syntaxToShader} from './syntaxToShader';\nimport {detectRequired} from './detectRequired';\n\nexport function getFunction(fn, top) {\n    if (fn.proto.use) {\n        const lib = gltg[fn.proto.use];\n        const rxUse = new RegExp(fn.proto.use, 'g');\n        const rxPl = new RegExp(fn.proto.placeholder, 'g');\n        return {\n            lines: lib.lines.map((l) => l.replace(rxUse, fn.proto.glsl).replace(rxPl, fn.proto.target)),\n            deps: lib.deps.map((l) => l.replace(fn.proto.placeholder, fn.proto.target))\n        }\n    } else {\n        const i = fn.proto.input[0][PARAM.input][0];\n\n        const t = {};\n        detectRequired(fn.params[0], t);\n\n        return {\n            lines: [\n                fn.proto.output + ' ' + fn.proto.glsl + '(' + i[0] + ' ' + i[1] + ') {',\n                ' return' + ' ' + syntaxToShader(fn.params[0], false, top) + ';',\n                '}'\n            ],\n            deps: t.required\n        }\n    }\n}\n","import {each} from '../../utils/each';\nimport {getFunction} from './getFunction';\n\nexport function functionsToLib(syntax, top) {\n    each(syntax.functions, (k, fn) => {\n        const c = getFunction(fn, top);\n        fn.lines = c.lines;\n        fn.deps = c.deps;\n    });\n}\n","import {isObject} from '../utils/isObject';\nimport {isArray} from '../utils/isArray';\n\nexport const dataFormat = {\n    UNKNOWN: -1,\n    GRAPH: 0,\n    TREE: 1,\n    SYNTAX: 2\n};\n\nexport function formatOf(obj) {\n    if (isObject(obj.data)) {\n        return dataFormat.TREE;\n    } else if (isArray(obj.data)) {\n        return dataFormat.GRAPH;\n    }\n\n    return dataFormat.UNKNOWN;\n}\n","export function isString(obj) {\n    return typeof obj === 'string';\n}\n","export function isNumber(obj) {\n    return typeof obj === 'number';\n}\n","import {features, list, types} from '../../features/index';\nimport {POS} from '../../features/names';\nimport {isObject} from '../../utils/isObject';\nimport {isString} from '../../utils/isString';\nimport {isNumber} from '../../utils/isNumber';\nimport {deep} from '../../utils/deep';\n\nexport function graphToTree(layers, transforms = []) {\n    layers = layers.data ? deep(layers.data) : layers;\n\n    if (!layers || !layers.length) {\n        return;\n    }\n\n    layers = expandBlend(layers);\n\n    const layer = layers.pop();\n    const item = {name: layer[0], id: layer.id};\n\n    switch (list[layer[0]].type) {\n        case types.transform:\n            transforms.push(layer);\n            return graphToTree(layers, transforms);\n        case types.blend:\n            if (isObject(layer[1])) {\n                item.params = [\n                    graphToTree(layer[1], [...transforms]),\n                    graphToTree(layer[2], [...transforms]),\n                    ...layer.slice(3)\n                ];\n            }\n            return item;\n        case types.generator:\n            item.params = [...getTransforms(transforms, layer[0]), ...getParams(layer, transforms)];\n            return item;\n        case types.modify:\n        case types.colorize:\n        case types.desaturate:\n            item.params = [graphToTree(layers, transforms), ...layer.slice(1)];\n            return item;\n    }\n}\n\nfunction expandBlend(layers) {\n    for (let i = layers.length - 1; i >= 0; i--) {\n        let l = layers[i];\n        if (list[l[0]].type === types.blend) {\n            let n = isNumber(l[1]);\n            if (isString(l[1]) || (n && isString(l[2]))) {\n                const g = l.slice(1 + n);\n                g.id = l.id;\n                const u = l[1];\n                l.splice(1 + n);\n                l[1] = {data: layers.slice(0, i)};\n                l[2] = {data: [g, ...layers.slice(i + 1)]};\n                if (n) {\n                    l[3] = u;\n                }\n                return [l];\n            }\n            return layers;\n        }\n    }\n    return layers;\n}\n\nfunction getParams(layer = [], transforms = []) {\n    return layer.slice(1).map((param) => {\n        if (isObject(param) && param.data) {\n            return graphToTree([...param.data], [...transforms]);\n        } else {\n            return param;\n        }\n    });\n}\n\nfunction getTransforms(transforms, name) {\n    if (features.generator[name].position === false) {\n        return [];\n    } else {\n        return [getTransform(transforms ? [...transforms] : [])];\n    }\n}\n\nfunction getTransform(layers) {\n    if (!layers || !layers.length) {\n        return POS;\n    } else {\n        const layer = layers.pop();\n\n        return {\n            name: layer[0],\n            id: layer.id,\n            params: [getTransform(layers), ...getParams(layer)]\n        };\n    }\n}\n","export function addIds(graph, ids = {}) {\n    (graph.data || []).forEach((d) => {\n        d.id = Object.keys(ids).length + 1;\n        ids[d.id] = d;\n        d.forEach((p) => {\n            if (p.data) {\n                addIds(p, ids);\n            }\n        });\n    });\n    return ids;\n}\n","import {treeToFlat} from '../tree/treeToFlat';\nimport {FLOAT, VEC3} from '../../features/names';\nimport {syntaxToShader} from './syntaxToShader';\n\nexport function syntaxToPartialShaders(tree) {\n    const flat = treeToFlat(tree.data);\n    const filtered = flat.filter((f)=> f.proto.output === FLOAT || f.proto.output === VEC3);\n    return filtered.map((f) => {\n        return syntaxToShader(f, true, tree.data);\n    });\n}\n","import {deep} from '../utils/deep';\nimport {treeToSyntax} from './tree/treeToSyntax';\nimport {syntaxToShader} from './syntax/syntaxToShader';\nimport {expandPlaceholders} from './syntax/expandPlaceholders';\nimport {getLib} from './shader/getLib';\nimport {detectRequired} from './syntax/detectRequired';\nimport {functionsToLib} from './syntax/functionsToLib';\nimport {variableType} from './variableType';\nimport {formatOf, dataFormat} from './dataFormat';\nimport {graphToTree} from './graph/graphToTree';\nimport {addIds} from './graph/addIds';\nimport {syntaxToPartialShaders} from './syntax/syntaxToPartialShaders';\n\nexport function compile(data, type = variableType.INLINE, multi = false) {\n    let f = formatOf(data);\n    let graph = f === dataFormat.GRAPH ? data : null;\n    let ids = graph ? addIds(graph) : null;\n    let tree = f === dataFormat.TREE ? data : {data: graphToTree(data)};\n    let syntax = treeToSyntax(deep(tree));\n    let shader;\n\n    expandPlaceholders(syntax.data);\n\n    if (type > variableType.INLINE) {\n        syntax.data.uniforms = {};\n    }\n\n    let partials = syntaxToPartialShaders(syntax);\n\n    detectRequired(syntax.data);\n    functionsToLib(syntax.data, syntax.data);\n\n    shader = syntaxToShader(syntax.data);\n\n    const ret = {\n        graph: graph,\n        ids: ids,\n        tree: tree,\n        syntax: syntax,\n        shader: shader,\n        partials: partials,\n        uniforms: syntax.data.uniforms,\n        required: syntax.data.required,\n        functions: syntax.data.functions,\n        code: getLib(syntax.data.required, syntax.data.functions, !multi)\n    };\n\n    delete syntax.data.functions;\n    delete syntax.data.uniforms;\n    delete syntax.data.required;\n    delete syntax.data.names;\n\n    return ret;\n}\n","export function valueToGraph(ids, value) {\n    ids[value.id][value.index] = value.value;\n}\n","import {each} from '../utils/each';\n\nexport function step(uniforms) {\n    let K = 0.01;\n\n    each(uniforms, function (k, v) {\n        if (!v.value.length) {\n            v.value += v.K || K;\n            if (v.value > v.proto[3][1]) {\n                v.K = -K;\n                v.value = v.proto[3][1];\n            } else if (v.value < v.proto[3][0]) {\n                v.K = K;\n                v.value = v.proto[3][0];\n            }\n        } else {\n            v.value.forEach(function (d, i) {\n                v.K = v.K || [];\n                v.value[i] += v.K[i] || K;\n                if (v.value[i] > v.proto[3][1]) {\n                    v.K[i] = -K;\n                    v.value[i] = v.proto[3][1];\n                } else if (v.value[i] < v.proto[3][0]) {\n                    v.K[i] = K;\n                    v.value[i] = v.proto[3][0];\n                }\n            });\n        }\n    });\n}\n","import {each} from '../../utils/each';\n\nexport function getDefines(uniforms) {\n    const lines = [];\n\n    each(uniforms, (key) => {\n        lines.push('#define' + ' ' + key + ' ' + format(uniforms[key].proto[0], uniforms[key].value))\n    });\n\n    return lines.join('\\n');\n}\n\nfunction format(type, p) {\n    if (type === 'float') {\n        let s = p.toString();\n\n        if (s.indexOf('.') >= 0) {\n            return s;\n        } else {\n            return s + '.';\n        }\n    } else {\n        return type + '(' + p.map((p) => format('float', p)).join(', ') + ')';\n    }\n}\n","import {compile} from '../compile'\nimport {getUniforms} from './getUniforms';\nimport {getDefines} from './getDefines';\nimport {variableType} from '../variableType';\nimport {getShaderThree} from './getShaderThree';\n\nexport function formatShader(data, t, multi, uniforms, getShader = getShaderThree) {\n    const c = compile(data, t, multi);\n    let u = '';\n\n    if (t === variableType.DEFINE) {\n        u = getDefines(c.uniforms || uniforms);\n    } else if (t === variableType.UNIFORM) {\n        u = getUniforms(c.uniforms || uniforms);\n    }\n\n    const s = getShader(c.shader, c.code, u);\n\n    return {\n        color: c.shader,\n        functions: c.code,\n        variables: u,\n        all: (s.vertexShader\n            ? ('// Vertex shader\\n\\n' + s.vertexShader + '\\n\\n' + '// Fragment shader\\n\\n')\n            : '')\n        + s.fragmentShader\n    };\n}\n","import {POS} from '../../features/names';\n\nexport function getShaderGlslSandbox(shader, lib, uniforms) {\n    return {\n        fragmentShader: [\n            '#ifdef GL_ES',\n            ' precision mediump float;',\n            '#endif',\n            '',\n            uniforms ? uniforms : null,\n            uniforms ? '' : null,\n            lib,\n            '',\n            'uniform vec2 resolution;',\n            '',\n            'void main() {',\n            ' vec2 ' + POS + ' = gl_FragCoord.xy / resolution.x * 2. - vec2(1., resolution.y / resolution.x);',\n            ' vec3 color = ' + shader + ';',\n            ' gl_FragColor = vec4(color, 1.0);',\n            '}'\n        ].filter((l) => l !== null).join('\\n')\n    }\n}\n","import {POS} from '../../features/names';\n\nexport function getShaderShadertoy(shader, lib, uniforms) {\n    return {\n        fragmentShader: [\n            uniforms ? uniforms : null,\n            uniforms ? '' : null,\n            lib,\n            '',\n            'void mainImage(out vec4 fragColor, in vec2 fragCoord) {',\n            ' vec2 ' + POS + ' = fragCoord.xy / iResolution.x * 2. - vec2(1., iResolution.y / iResolution.x);',\n            ' vec3 color = ' + shader + ';',\n            ' fragColor = vec4(color, 1.0);',\n            '}'\n        ].filter((l) => l !== null).join('\\n')\n    }\n}\n","import {default as randomUniform} from 'd3-random/src/uniform';\n\nexport function randomInt(min, max) {\n    return Math.floor(randomUniform(min, max)());\n}\n","import {scaleLinear} from 'd3-scale'\nimport {randomNormal} from 'd3-random'\n\nexport function rand(min = Number.MIN_VALUE, mid, max = Number.MAX_VALUE) {\n    let m = !isNaN(mid) ? mid : ((min + max) / 2);\n    let r = 8;\n\n    return scaleLinear().domain([-r, 0, +r]).range([min, m, max]).clamp(true)(randomNormal()());\n}\n","import {randomInt} from './randomInt';\nimport {rand} from './rand';\nimport {randomUniform} from 'd3-random';\n\nexport function randomParam(type, proto, decimals) {\n    if ((type === 'int') && proto[3]) {\n        return randomInt(proto[3][0], proto[3][1]);\n    } else if ((type === 'float') && proto[3]) {\n        // return randomUniform(proto[3][0], proto[3][1])();\n        return rand(proto[3][0], proto[2], proto[3][1]);\n    } else if ((type === 'vec2')) {\n        if (proto[3]) {\n            return [randomUniform(proto[3][0], proto[3][1])(), randomUniform(proto[3][0], proto[3][1])()];\n        } else {\n            return 'pos';\n        }\n    } else if ((type === 'vec3') && proto[3]) {\n        return [\n            precision(randomUniform(proto[3][0], proto[3][1])(), decimals),\n            precision(randomUniform(proto[3][0], proto[3][1])(), decimals),\n            precision(randomUniform(proto[3][0], proto[3][1])(), decimals)\n        ];\n    } else if ((type === 'vec3') && !proto[2]) {\n        return [randomUniform(1)(), randomUniform(1)(), randomUniform(1)()];\n    } else if (type === 'bool') {\n        return Math.random() < 0.5;\n    }\n\n    return proto[2];\n}\n\nfunction precision(number, decimals) {\n    return !decimals ? number : Math.round(number * Math.pow(10, decimals)) / Math.pow(10, decimals);\n}\n","import {CosPalette} from '../features/colorize'\nimport {randomParam} from './randomParams';\n\nexport function generatorRandomPalette() {\n    return {\n        data: [\n            ['X'],\n            ['Normalize'],\n            ['CosPalette', ...CosPalette.params.map((p) => randomParam(p[0], p, 2))],\n        ]\n    };\n}\n","import {all, types} from '../features/index'\nimport {randomInt} from './randomInt'\nimport {VALUE, POSITION, COLOR, POS} from '../features/names';\nimport {randomParam} from './randomParams';\n\nexport function generatorRandomTree(type = 'vec3', proto = null, level = 0, stop = 4, stopPos = 5, noblend = false) {\n    if (type === 'bool' || type === 'int') {\n        return randomParam(type, proto);\n    }\n\n    if (proto && (proto[1] !== VALUE && proto[1] !== COLOR && proto[1] !== POSITION)) {\n        return randomParam(type, proto);\n    }\n\n    let filtered = all.filter((a) => a.output === type);\n\n    if (noblend) {\n        filtered = filtered.filter((a) => a.type !== types.blend);\n    }\n\n    if ((level >= stop) && (proto[1] === COLOR || proto[1] === VALUE)) {\n        filtered = filtered.filter((a) => {\n            return !a.variable;\n        });\n    } else if ((level >= stopPos) && (proto[1] === POSITION)) {\n        filtered = filtered.filter((a) => {\n            return !a.position;\n        });\n    }\n\n    if (!filtered.length) {\n        return randomParam(type, proto || []);\n    }\n\n    const pick = filtered[randomInt(filtered.length)];\n\n    const ret = {\n        name: pick.name,\n        params: pick.input.map((input) => {\n            return generatorRandomTree(input[0], input, level + 1, stop, stopPos, pick.type === types.blend);\n        })\n    };\n\n    if (!proto && (JSON.stringify(ret).indexOf(POS) < 0)) {\n        return generatorRandomTree();\n    } else {\n        return !proto ? {data: ret} : ret;\n    }\n}\n","import {features} from '../features/index';\nimport {PARAM, VALUE} from '../features/names';\n\nexport function generatorGenerators() {\n    const ret = [];\n    const keys = Object.keys(features.generator);\n\n    for (let i = 0; i < keys.length; i++) {\n        ret.push(getGenerator(keys[i], keys[i]));\n        const examples = features.generator[keys[i]].examples || [];\n\n        for (let j = 0; j < examples.length; j++) {\n            ret.push(getGenerator(keys[i], keys[i], examples[j], j + 1));\n        }\n    }\n\n    return ret;\n}\n\nfunction getGenerator(name, title, params = null, index = 0) {\n    const generator = features.generator[name];\n    const deps = ['Length', 'SinX', 'SinY'];\n    const ret = {\n        title: title ? title : undefined,\n        example: index ? index.toString() : undefined,\n        data: [\n            [\n                name,\n                ...(params ? params : (!generator.params ? [] : generator.params\n                    .filter((param) => !param[PARAM.placeholder])\n                    .map((param) => {\n                        return param[1] === VALUE ? getGenerator(deps.shift()) : param[2];\n                    })))\n            ]\n        ]\n    };\n\n    if (generator.scale && (generator.scale !== 1)) {\n        ret.data.push([\n            'Scale',\n            [generator.scale, generator.scale]\n        ]);\n    }\n\n    if (generator.normalized === false) {\n        ret.data.push(['Normalize']);\n    }\n\n    return ret;\n}\n","export function toJson(obj, tab = 2) {\n    return JSON.stringify(obj, null, tab);\n}\n","export function select(selector) {\n    return document.querySelector(selector);\n}\n","export const blend = {\n    BlendHardMix: 'blendHardMix',\n    BlendVividLight: 'blendVividLight',\n    BlendLinearLight: 'blendLinearLight',\n    BlendPinLight: 'blendPinLight',\n    BlendGlow: 'blendGlow',\n    BlendHardLight: 'blendHardLight',\n    BlendPhoenix: 'blendPhoenix',\n    BlendOverlay: 'blendOverlay',\n    BlendNormal: 'blendNormal',\n    BlendNegation: 'blendNegation',\n    BlendMultiply: 'blendMultiply',\n    BlendReflect: 'blendReflect',\n    BlendAverage: 'blendAverage',\n    BlendLinearBurn: 'blendLinearBurn',\n    BlendLighten: 'blendLighten',\n    BlendScreen: 'blendScreen',\n    BlendSoftLight: 'blendSoftLight',\n    BlendSubtract: 'blendSubtract',\n    BlendExclusion: 'blendExclusion',\n    BlendDifference: 'blendDifference',\n    BlendDarken: 'blendDarken',\n    BlendColorDodge: 'blendColorDodge',\n    BlendColorBurn: 'blendColorBurn',\n    BlendAdd: 'blendAdd',\n    BlendLinearDodge: 'blendLinearDodge'\n};\n\n// Object.keys(blend).sort().forEach((k, i) => blend[i] = k);\n","export const POSITION = 'POSITION';\nexport const VALUE = 'VALUE';\nexport const COLOR = 'COLOR';\n\nexport const COORD = 'coord';\nexport const POS = 'pos';\n\nexport const PARAM = {\n    type: 0,\n    name: 1,\n    value: 2,\n    range: 3,\n    placeholder: 4,\n    input: 5\n};\n\nexport const FLOAT = 'float';\nexport const VEC2 = 'vec2';\nexport const VEC3 = 'vec3';\n","import {VALUE} from './names';\n\nexport let Distort = {\n    params: [['float', 'weight', 1, [-8, 8]], ['float', VALUE, 1, [-1, 1]]]\n};\n\nexport let Warp = {\n    params: [['float', 'wx', 1, [-8, 8]], ['float', 'wy', 1, [-8, 8]], ['float', VALUE, 1, [-1, 1]], ['float', VALUE, 1, [-1, 1]]]\n};\n\nexport const Rotate = {\n    params: [['float', 'angle', 0, [0, 360]]]\n};\n\nexport const Scale = {\n    params: [['vec2', 'scale', [1, 1], [-16, 16]]]\n};\n\nexport const Translate = {\n    params: [['vec2', 'offset', [0, 0], [-128, 128]]]\n};\n\nexport const Tile = {\n    params: [['vec2', 'size', [0, 0], [2, 16]], ['float', 'mirrorX', 0, [0, 1]], ['float', 'mirrorY', 0, [0, 1]]]\n};\n\nexport const Pixelate = {\n    params: [['float', 'steps', 8, [2, 128]]]\n};\n\nexport const Twirl = {\n    params: [['float', 'weight', 8, [-16, 16]], ['float', 'size', 2, [0, 16]], ['vec2', 'offset', [0, 0], [0, 32]]]\n};\n","export const Normalize = {};\nexport const Denormalize = {};\nexport const Invert = {};\nexport const Abs = {};\nexport const Cos = {};\nexport const Sin = {};\n\nexport const Add = {\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Min = {\n    glsl: 'min',\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Max = {\n    glsl: 'max',\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const Multiply = {\n    params: [['float', 'value', 0.5, [-2,2]]]\n};\n\nexport const SmoothStep = {\n    params: [['float', 'edge0', 0, [-2,2]], ['float', 'edge1', 1, [-2,2]]]\n};\n\nexport const Posterize = {\n    params: [['float', 'steps', 8, [2,32]], ['float', 'gamma', 0.6,[0,2]]]\n};\n\nexport const Bias = {\n    params: [['float', 'bias', 0.25, [0,1]]]\n};\n\nexport const Gain = {\n    params: [['float', 'gain', 0.25, [0,1]]]\n};\n\nexport const Clamp = {\n    params: [['float', 'from', 0, [-1,1]], ['float', 'to', 1, [-1,1]]]\n};\n","import {POS, VALUE} from './names';\n\nexport const X = {};\nexport const Y = {};\nexport const Length = {};\nexport const SinX = {\n    scale: 16\n};\nexport const SinY = {\n    scale: 16\n};\nexport const SinXY = {\n    scale: 16\n};\n\nexport const Xor = {\n    scale: 256\n};\n\n// export const Color = {\n//     glsl: 'vec3',\n//     color: true,\n//     position: false,\n//     params: ['vec3', 'color', [1, 1, 1]]\n// };\n\nexport const Value = {\n    glsl: 'float',\n    position: false,\n    params: [['float', 'value', 0.5, [-1, 1]]]\n};\n\nexport const SimplexNoise = {\n    glsl: 'snoise',\n    normalized: false\n};\n\nexport const Checker = {\n    glsl: 'checker',\n    params: [['float', 'repeats', 2, [1, 128]]]\n};\n\nexport const PerlinNoise = {\n    glsl: 'cnoise',\n    normalized: false,\n    scale: 4\n};\n\nexport const PeriodicNoise = {\n    glsl: 'pnoise',\n    params: [['vec2', 'size', [16, 16], [1, 128]]],\n    normalized: false,\n    scale: 4\n};\n\nexport const WorleyF1 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyF2 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyF1F2 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1],\n        [0, 1]\n    ]\n};\n\nexport const WorleyF2F1 = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]]],\n    scale: 2,\n    examples: [\n        [0.5, 0],\n        [0, 0],\n        [1, 1]\n    ]\n};\n\nexport const WorleyCrackle = {\n    params: [['float', 'jitter', 1, [0, 1]], ['float', 'manhattanDistance', 0, [0, 1]], ['float', 'multiply', 8, [1, 32]], ['float', 'divide', 2, [1, 32]], ['float', 'offset', 0.5, [0, 8]]],\n    scale: 2,\n    examples: [\n        [0.5, 0, 8, 2, 0.5],\n        [0, 0, 8, 2, 0.5],\n        [1, 1, 8, 2, 0.5],\n        [1, 0, 32, 2, 0.5],\n        [1, 0, 32, 1, 2],\n        [1, 0, 32, 1, 4],\n        [1, 1, 32, 1, 4],\n        [0.25, 1, 32, 1, 4]\n    ]\n};\n\nexport const RidgedMultiFractal = {\n    glsl: 'ridgedMultiFractal',\n    params: [['float', 'H', 0.25, [0, 8]], ['float', 'lacunarity', 2, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]], ['float', 'offset', .9, [-2, 2]], ['float', 'gain', 1.5, [-8, 8]]],\n    scale: 1,\n    examples: [\n        [0.25, 4, 2, 2, 1, 6],\n        [0.25, 3, 1, 6, 1, 1]\n    ]\n};\n\nexport const HybridMultiFractal = {\n    glsl: 'hybridMultiFractal',\n    params: [['float', 'H', 0.25, [0, 8]], ['float', 'lacunarity', 3, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]], ['float', 'offset', .05, [-2, 2]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [0.1, 1.5, 3, 6, 0]\n    ]\n};\n\nexport const HeteroTerrain = {\n    glsl: 'heteroTerrainA',\n    params: [['float', 'H', 0.5, [0.01, 3]], ['float', 'lacunarity', 2, [1, 3]], ['float', 'frequency', 2, [1, 8]], ['float', 'octaves', 6, [1, 8]], ['float', 'offset', .05, [-1, 1]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [2, 1.5, 3, 2, 0]\n    ]\n};\n\nexport const MultiFractal = {\n    glsl: 'multifractalA',\n    params: [\n        ['float', 'H', 0.5, [0.01, 2]],\n        ['float', 'lacunarity', 2, [1, 2]],\n        ['float', 'frequency', 2, [1, 8]],\n        ['float', 'octaves', 6, [1, 8]],\n        ['float', 'offset', .8, [-1, 1]],\n        ['float', 'noise', null, null, 'snoise', [['vec2', POS]]]\n    ],\n    scale: 1,\n    examples: [\n        [1.5, 1.5, 4, 6, 0.85]\n    ]\n};\n\nexport const FBm = {\n    glsl: 'fBmA',\n    params: [['float', 'H', 0.5, [0, 8]], ['float', 'lacunarity', 2, [0, 8]], ['float', 'frequency', 2, [0, 8]], ['float', 'octaves', 6, [1, 12]]],\n    normalized: false,\n    scale: 1,\n    examples: [\n        [0.85, 2.5, 4, 6]\n    ]\n};\n\nexport let RGB = {\n    glsl: 'vec3',\n    color: true,\n    position: false,\n    params: [['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]]]\n};\n\nexport let HSV = {\n    glsl: 'HSV',\n    color: true,\n    position: false,\n    params: [['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]], ['float', VALUE, 1, [0, 1]]],\n};\n","// http://iquilezles.org/www/articles/palettes/palettes.htm\nexport const CosPalette = {\n    glsl: 'cosPalette',\n    params: [\n        ['vec3', 'a', [0.5, 0.5, 0.5], [0, 1]],\n        ['vec3', 'b', [0.5, 0.5, 0.5], [0, 1]],\n        ['vec3', 'c', [1.0, 1.0, 1.0], [0, 1]],\n        ['vec3', 'd', [0.0, 0.33, 0.67], [0, 1]]\n    ],\n    examples: [\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.0, 0.33, 0.67]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.0, 0.10, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [0.3, 0.20, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 1.0, 0.5], [0.8, 0.90, 0.30]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [1.0, 0.7, 0.4], [0.0, 0.15, 0.20]],\n        [[0.5, 0.5, 0.5], [0.5, 0.5, 0.5], [2.0, 1.0, 0.0], [0.5, 0.20, 0.25]],\n        [[0.8, 0.5, 0.4], [0.2, 0.4, 0.2], [2.0, 1.0, 1.0], [0.0, 0.25, 0.25]]\n    ]\n};\n\nexport const Tint = {\n    color: true,\n    params: [['vec3', 'color', [0.5, 0.5, 0.5], [0, 1]]]\n};\n","export const Grayscale = {};\n","import {\n    Scene,\n    ShaderMaterial,\n    Mesh,\n    PlaneGeometry,\n    Camera,\n    WebGLRenderer,\n    WebGLRenderTarget\n} from 'three/src/Three';\n\nimport {getUniforms} from '../data/shader/getUniforms';\nimport {getShaderThree} from '../data/shader/getShaderThree';\nimport {each} from '../utils/each';\nimport {deep} from '../utils/deep';\nimport {isArray} from '../utils/isArray';\n\nconst FloatType = 1015;\n\nexport class Renderer {\n    constructor(canvas) {\n        this.camera = new Camera();\n        this.camera.position.z = 1;\n        this.scene = new Scene();\n        this.mesh = new Mesh(new PlaneGeometry(2, 2));\n        this.scene.add(this.mesh);\n        this.canvas = canvas;\n        this.renderer = new WebGLRenderer({canvas: canvas});\n        return this;\n    }\n\n    size(value) {\n        this._size = isArray(value) ? value : [value, value];\n        this.renderer.setSize(this._size[0], this._size[1]);\n        return this;\n    }\n\n    shader(vertex, fragment, uniforms) {\n        this.uniforms = uniforms;\n        this.original = deep(uniforms);\n        this.mesh.material = new ShaderMaterial({\n            uniforms: {...uniforms, ...{resolution: {value: [this._size[0], this._size[1], 1]}}},\n            vertexShader: vertex,\n            fragmentShader: fragment\n        });\n\n        return this;\n    }\n\n    render(shader, libs, uniforms = {}, offScreen = null, float = false) {\n        const s = getShaderThree(shader, libs, getUniforms(uniforms), offScreen);\n        this.shader(s.vertexShader, s.fragmentShader, uniforms);\n\n        if (offScreen) {\n            let target;\n\n            if (float) {\n                if (!this.targetFloat || (this.targetFloat && ((this.targetFloat.width !== offScreen[0]) || (this.targetFloat.height !== offScreen[1])))) {\n                    this.targetFloat = new WebGLRenderTarget(offScreen[0], offScreen[1], {\n                        depthBuffer: false,\n                        stencilBuffer: false,\n                        type: FloatType\n                    });\n                }\n                target = this.targetFloat;\n            } else {\n                if (!this.target || (this.target && ((this.target.width !== offScreen[0]) || (this.target.height !== offScreen[1])))) {\n                    this.target = new WebGLRenderTarget(offScreen[0], offScreen[1], {\n                        depthBuffer: false,\n                        stencilBuffer: false\n                    });\n                }\n                target = this.target;\n            }\n\n            this.renderer.render(this.scene, this.camera, target);\n        } else {\n            this.renderer.render(this.scene, this.camera);\n        }\n\n        return this;\n    }\n\n    pixels(float = false) {\n        if (float) {\n            if (!this.bufferFloat || (this.buffer.length !== (this.targetFloat.width * this.targetFloat.height * 4))) {\n                this.bufferFloat = new Float32Array(this.targetFloat.width * this.targetFloat.height * 4);\n            }\n            this.renderer.readRenderTargetPixels(this.targetFloat, 0, 0, this.targetFloat.width, this.targetFloat.height, this.bufferFloat);\n            return this.bufferFloat;\n        } else {\n            if (!this.buffer || (this.buffer.length !== (this.target.width * this.target.height * 4))) {\n                this.buffer = new Uint8Array(this.target.width * this.target.height * 4);\n            }\n            this.renderer.readRenderTargetPixels(this.target, 0, 0, this.target.width, this.target.height, this.buffer);\n            return this.buffer;\n        }\n    }\n\n    update() {\n        this.renderer.render(this.scene, this.camera);\n    }\n\n    reset() {\n        each(this.original, (k, v) => {\n            this.uniforms[k].value = deep(v.value);\n        });\n\n        this.update();\n    }\n\n    draw(canvas) {\n        canvas.getContext('2d').drawImage(\n            this.canvas,\n            0, 0, this._size[0], this._size[1],\n            0, 0, canvas.width, canvas.height\n        );\n    }\n\n    drawTarget(canvas, float = false) {\n        let ct = canvas.getContext('2d');\n        let id = ct.getImageData(0, 0, canvas.width, canvas.height);\n        id.data.set(new Uint8ClampedArray(this.pixels().buffer, 0, canvas.width * canvas.height * 4));\n        ct.putImageData(id, 0, 0, 0, 0, canvas.width, canvas.height);\n\n        // window.createImageBitmap(\n        //     new window.ImageData(\n        //         new Uint8ClampedArray(this.pixels().buffer), this.target.width, this.target.height),\n        //     0, 0, this.target.width, this.target.height).then((id) => {\n        //     canvas.getContext('2d').drawImage(\n        //         id,\n        //         0, 0, this.target.width, this.target.height,\n        //         0, 0, canvas.width, canvas.height\n        //     );\n        // });\n    }\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b,\n      c;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = array[i]) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  return [a, c];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import {slice} from 'd3-array/src/array';\nimport bisect from 'd3-array/src/bisect';\nimport constant from 'd3-array/src/constant';\nimport extent from 'd3-array/src/extent';\nimport identity from 'd3-array/src/identity';\nimport ticks from 'd3-array/src/ticks';\nimport sturges from 'd3-array/src/threshold/sturges';\n\nexport default function () {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n        var i,\n            n = data.length,\n            x,\n            values = data;// new Array(n);\n\n        // for (i = 0; i < n; ++i) {\n        //   values[i] = value(data[i], i, data);\n        // }\n\n        var xz = domain(values),\n            x0 = xz[0],\n            x1 = xz[1],\n            tz = threshold(values, x0, x1);\n\n        // Convert number of thresholds into uniform thresholds.\n        // if (!Array.isArray(tz)) tz = ticks(x0, x1, tz);\n\n        // Remove any thresholds outside the domain.\n        var m = tz.length;\n        // while (tz[0] <= x0) tz.shift(), --m;\n        // while (tz[m - 1] >= x1) tz.pop(), --m;\n\n        var bins = [],\n            bin;\n\n        m--;\n\n        // Initialize bins.\n        for (i = 0; i < m; ++i) {\n            // bin = bins[i] = {length:0};\n            bin = bins[i] = [];\n            bin.x0 = tz[i];\n            bin.x1 = tz[i + 1];\n        }\n\n        console.log(bins);\n\n        // let min = tz[0] === -Infinity ? 0 : 1;\n\n        let inf = tz[0] === -Infinity ? 1 : 0;\n\n        for (i = 0; i < n; ++i) {\n            x = values[i];\n            // bins[bisect(tz, x, 0, m)-1].push(data[i]);\n\n            let ind = bisect(tz, x, 0, m - inf) - 1;\n            ind = ind < 0 ? 0 : ind;\n\n            if (tz[ind] <= data[i] && data[i] <= tz[ind + 1]) {\n            } else {\n                console.log('bad', tz[ind], data[i], tz[ind + 1]);\n                break;\n            }\n\n            bins[ind].push(data[i]);\n            // bins[bisect(tz, x, 0, m - 2)].length++;\n        }\n\n        bins.min = x0;\n        bins.max = x1;\n        return bins;\n    }\n\n// histogram.value = function(_) {\n//     return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n// };\n\n// histogram.domain = function(_) {\n//     return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n// };\n\n    histogram.thresholds = function (_) {\n        return arguments.length ? (threshold = typeof _ === 'function' ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Â±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"Âµ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer â€œvalueâ€ part that can be\n        // grouped, and fractional or exponential â€œsuffixâ€ part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export const variableType = {\n    INLINE: 0,\n    UNIFORM: 1,\n    DEFINE: 2,\n};\n","export default function(min, max) {\n  min = min == null ? 0 : +min;\n  max = max == null ? 1 : +max;\n  if (arguments.length === 1) max = min, min = 0;\n  else max -= min;\n  return function() {\n    return Math.random() * max + min;\n  };\n}\n","export default function(mu, sigma) {\n  var x, r;\n  mu = mu == null ? 0 : +mu;\n  sigma = sigma == null ? 1 : +sigma;\n  return function() {\n    var y;\n\n    // If available, use the second previously-generated uniform random.\n    if (x != null) y = x, x = null;\n\n    // Otherwise, generate a new x and y.\n    else do {\n      x = Math.random() * 2 - 1;\n      y = Math.random() * 2 - 1;\n      r = x * x + y * y;\n    } while (!r || r > 1);\n\n    return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n  };\n}\n"],"names":["isObject","obj","Object","Array","each","fnc","keys","forEach","key","expand","features","k","m","f","expandFeature","type","name","glsl","params","variants","push","getAll","all","v","variable","hasVariableInput","position","hasPositionInput","getSignature","named","output","input","map","p","join","getProtos","filter","d","arr","i","length","VALUE","COLOR","POSITION","getUniforms","uniforms","lines","getType","u","value","isArray","getShaderThree","shader","lib","flipY","shaderLines","L","POS","COORD","s","l","deep","temp","constructor","ascendingComparator","x","ascending","tickStep","start","stop","count","step0","Math","abs","max","step1","pow","floor","log","LN10","error","e10","e5","e2","getHistogram","array","bins","float","from","_to","ret","thresholds","Infinity","range","to","channel","j","h","histogram","areas","getAreas","perms","getPerms","blocks","getBlocks","min","apply","samples","normalize","e","hg","sortV","a","b","channels","bn","c","sort","stops","as","parseFloat","ps","ones","num","o","block","prevS","z","reverse","o1","o2","Map","object","set","n","Set","add","ordinal","scale","index","get","unknown","implicit","domain","slice","call","_","arguments","has","copy","extend","parent","definition","prototype","create","Color","color","format","trim","toLowerCase","reHex3","exec","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","hasOwnProperty","NaN","r","g","rgbConvert","rgb","opacity","Hsl","hslConvert","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","sin","rgb2xyz","xyz2lab","Xn","y","Yn","Zn","lab","t","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","sqrt","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","E","C","D","cubehelix","linear","exponential","hue","round","constant","isNaN","gamma","nogamma","zero","one","cubehelixGamma","end","colorCubehelix","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","d1","r0","r1","polymap","bisect","source","target","interpolate","clamp","continuous","rescale","piecewise","unit","interpolateValue","invert","number","rangeRound","interpolateRound","formatSpecifier","specifier","FormatSpecifier","match","re","Error","fill","align","sign","symbol","width","comma","precision","formatTypes","defaultLocale","formatLocale","locale","formatPrefix","linearish","ticks","tickFormat","nice","step","ceil","newInterval","floori","offseti","field","interval","date","Date","offset","test","setTime","every","isFinite","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","H","M","S","setFullYear","utcDate","UTC","setUTCFullYear","newYear","newFormat","formats","pad","string","charCodeAt","pads","charAt","newParse","newDate","parseSpecifier","w","day","W","U","Z","parse","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","time","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","toString","requote","replace","requoteRe","names","RegExp","numberRe","percentRe","timeDay","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","utcFormat","utcParse","formatIsoNative","toISOString","parseIsoNative","Path","_x0","this","_y0","_x1","_y1","path","Linear","context","_context","slope3","that","x2","y2","h0","h1","s0","s1","slope2","point","x0","y0","x1","y1","dx","bezierCurveTo","MonotoneX","MonotoneY","ReflectContext","monotoneX","Step","_t","stepAfter","creatorInherit","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","filterContextListener","listener","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","split","indexOf","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","none","empty","EnterNode","datum","_next","_parent","bindIndex","enter","update","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","keyPrefix","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","window","defaultView","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","root","viewHistogram","svg","ext","options","select","selectAll","mid","rangeMid","opt","ft","overflow","scaleLinear","overflowWidth","xv","height","margin","top","bottom","scaleOrdinal","colors","areaShape","area","curve","curveMonotoneX","curveStepAfter","prev","stacked","series","seriesIndex","valueIndex","previous","stacked2","splice","bs","append","attr","font","html","treeToFlat","raw","level","children","param","flat","treeToSyntax","_top","proto","findProto","fixInputs","inputs","getInputs","protos","exacts","exactSignatures","longer","longerSignatures","exactsConvertible","convertibleExactSignatures","Number","isInteger","is","undefined","syntaxToShader","tree","vec3","rawParams","PARAM","placeholder","formatParam","defaultType","uniform","id","capitalize","toUpperCase","substring","expandPlaceholders","item","newFunctionName","exInput","fname","functions","exParam","_name","getLib","additional","singleLine","gltg","gltgs","getLibAll","deps","getDeps","ind","unshift","depsWeights","_weights","weights","detectRequired","syntax","required","getFunction","fn","use","rxUse","rxPl","functionsToLib","formatOf","dataFormat","TREE","GRAPH","UNKNOWN","isString","isNumber","graphToTree","layers","transforms","expandBlend","layer","pop","types","transform","blend","generator","getTransforms","getParams","modify","colorize","desaturate","getTransform","addIds","graph","ids","syntaxToPartialShaders","filtered","FLOAT","VEC3","compile","variableType","INLINE","multi","partials","valueToGraph","K","getDefines","formatShader","getShader","DEFINE","UNIFORM","code","vertexShader","fragmentShader","getShaderGlslSandbox","getShaderShadertoy","randomInt","randomUniform","rand","MIN_VALUE","MAX_VALUE","randomNormal","randomParam","decimals","random","generatorRandomPalette","CosPalette","generatorRandomTree","stopPos","noblend","pick","JSON","stringify","generatorGenerators","getGenerator","examples","title","shift","normalized","toJson","tab","selector","querySelector","Distort","Warp","Rotate","Scale","Translate","Tile","Pixelate","Twirl","Normalize","Denormalize","Invert","Abs","Cos","Sin","Add","Min","Max","Multiply","SmoothStep","Posterize","Bias","Gain","Clamp","Y","Length","SinX","SinY","SinXY","Xor","Value","SimplexNoise","Checker","PerlinNoise","PeriodicNoise","WorleyF1","WorleyF2","WorleyF1F2","WorleyF2F1","WorleyCrackle","RidgedMultiFractal","HybridMultiFractal","HeteroTerrain","MultiFractal","FBm","RGB","HSV","Tint","Grayscale","glsls","feature","FloatType","Renderer","canvas","camera","Camera","scene","Scene","mesh","Mesh","PlaneGeometry","renderer","WebGLRenderer","_size","setSize","vertex","fragment","original","material","ShaderMaterial","resolution","libs","offScreen","targetFloat","WebGLRenderTarget","render","bufferFloat","buffer","Float32Array","readRenderTargetPixels","Uint8Array","getContext","drawImage","ct","getImageData","Uint8ClampedArray","pixels","putImageData","compare","lo","hi","ascendingBisect","bisector","bisectRight","right","values","LN2","bin","xz","tz","threshold","inf","extent","sturges","prefix","property","entries","size","clear","factory","darker","brighter","reI","reN","reP","define","displayable","PI","Kn","A","B","cosh","sinh","rgbGamma","colorRgb","nb","na","reA","reB","bi","lastIndex","am","bm","q","cubehelix$1","prefixExponent","cubehelixLong","toExponential","coefficient","formatDecimal","grouping","thousands","numerals","toPrecision","i1","i0","out","exponent","formatDefault","toFixed","formatRounded","formatPrefixAuto","prefixes","valuePrefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","decimal","padding","currency","formatGroup","identity","formatNumerals","precisionPrefix","precisionRound","precisionFixed","millisecond","durationSecond","durationHour","durationDay","sunday","monday","year","setMonth","setUTCSeconds","setUTCMinutes","setUTCMonth","timeFormat","timeParse","-","0","isoSpecifier","interpolateCubehelixLong","pi","tau","epsilon","tauEpsilon","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","a0","a1","ccw","dy","cw","da","_line","_point","closePath","lineTo","moveTo","line","defined0","defined","lineStart","lineEnd","pointX","pointY","curveLinear","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","_t0","_x","_y","namespaces","namespace","matcher","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","mouseenter","mouseleave","subgroups","subnode","subgroup","querySelectorAll","selectorAll","_enter","sparse","child","next","bind","enterGroup","updateGroup","exitGroup","_exit","groups0","groups1","m0","merges","group0","group1","merge","compareNode","sortgroups","sortgroup","order","callback","nodes","getAttributeNS","getComputedStyle","getPropertyValue","contains","creator","before","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","mu","sigma"],"mappings":"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"}